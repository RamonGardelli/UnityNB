version: "2.0"

stories:
- story: rendir examen + materia + examen
  steps:
  - or:
    - intent: contar_examen_aprobado
      entities:
      - materia: any
      - examen: any
    - intent: contar_que_rendi
      entities:
      - materia: any
      - examen: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: contar_examen_aprobado
    entities:
    - nota: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_delSlots_examen

- story: rendir examen + materia
  steps:
  - intent: contar_que_rendi
    entities:
    - materia: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: contar_examen_aprobado
    entities:
    - nota: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_delSlots_examen

- story: rendir examen + aprobado + materia + nota
  steps:
  - intent: contar_examen_aprobado
    entities:
    - materia: any
    - nota: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_delSlots_examen

- story: rendir examen + aprobado + nota
  steps:
  - or:
    - intent: contar_examen_aprobado
    - intent: nota_que_me_saque
      entities:
      - nota: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_materia_examen
  - intent: contar_que_rendi
    entities:
    - materia: any
  - action: action_materia_examen
  - action: action_delSlots_examen
  - action: utter_cambio_tema

- story: rendir examen + aprobado + materia
  steps:
  - intent: contar_examen_aprobado
    entities:
    - materia: any
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: nota_que_me_saque
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_delSlots_examen
  - action: utter_cambio_tema

- story: rendir examen + aprobado
  steps:
  - intent: contar_examen_aprobado
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: nota_que_me_saque
  - action: action_saveSlots_examen
  - action: action_nota_examen_aprobado
  - intent: agradecer
  - action: action_delSlots_examen

- story: rendir examen + desaprobado + materia + nota
  steps:
  - intent: contar_examen_desaprobado
    entities:
    - materia: any
    - nota: any
  - action: action_saveSlots_examen
  - action: action_materia_examen
  - or:
    - intent: agradecer
    - intent: volver_a_intentarlo
    - intent: negar
  - action: action_delSlots_examen

- story: rendir examen + desaprobado
  steps:
  - intent: contar_examen_desaprobado
  - action: action_saveSlots_examen
  - action: action_materia_examen
  - intent: contar_que_rendi
    entities:
    - materia: any
  - action: action_saveSlots_examen
  - action: utter_consolar
  - or:
    - intent: agradecer
    - intent: volver_a_intentarlo
    - intent: negar
  - action: action_delSlots_examen
  - action: utter_cambio_tema

- story: camino preguntar de donde viene
  steps:
  - intent: contar_de_donde_vengo
  - action: utter_como_le_fue
  - intent: contar_como_fue
  - action: utter_respuesta_cursada
  - or:
    - intent: contar_examen_aprobado_materia
    - intent: nota_que_me_saque
  - action: utter_felicitar_examen
  - intent: agradecer
  - action: action_delSlots_examen

- story: camino preguntar de donde viene 2
  steps:
  - intent: saludar
  - action: utter_preguntar_como_esta
  - action: utter_donde_viene
  - intent: contar_de_donde_vengo
  - action: utter_como_le_fue
  - intent: contar_como_fue
  - action: utter_respuesta_cursada2 
  - or:
    - intent: contar_examen_aprobado_materia
    - intent: nota_que_me_saque
  - action: utter_felicitar_examen
  - intent: agradecer
  - action: action_delSlots_examen

- story: camino preguntar de donde viene 3
  steps:
  - intent: contar_de_donde_vengo
  - action: utter_como_le_fue
  - intent: contar_como_fue
  - action: utter_respuesta_cursada
  - intent: contar_examen_desaprobado
  - action: utter_consolar
  - or:
    - intent: agradecer
    - intent: volver_a_intentarlo
  - action: action_delSlots_examen
  - action: utter_ofrecer_ayuda

- story: camino preguntar de donde viene 4
  steps:
    - intent: saludar
    - action: utter_preguntar_como_esta
    - action: utter_donde_viene
    - intent: contar_de_donde_vengo
    - action: utter_como_le_fue
    - intent: contar_como_fue
    - action: utter_respuesta_cursada2 
    - action: utter_como_le_fue
    - action: utter_que_rendiste
    - intent: contar_examen_desaprobado
    - action: utter_consolar
    - or:
      - intent: agradecer
      - intent: volver_a_intentarlo
    - action: action_delSlots_examen
    - action: utter_ofrecer_ayuda

- story: camino preguntar de donde viene 5
  steps:
    - intent: saludar
    - action: utter_preguntar_como_esta
    - action: utter_donde_viene
    - intent: contar_de_donde_vengo
    - action: utter_como_le_fue
    - intent: contar_como_fue
    - action: utter_respuesta_cursada
    - action: utter_como_le_fue
    - action: utter_que_rendiste
    - intent: contar_examen_desaprobado
    - action: utter_consolar
    - intent: psycho_killer
    - action: utter_calmar
    - action: utter_ofrecer_ayuda
    - action: action_delSlots_examen

- story: camino preguntar de donde viene 6
  steps:
    - intent: preguntar_que_cursa
    - action: utter_respuesta_cursada3
    - intent: preguntar_como_le_va
    - action: utter_respuesta_cursada4
    - action: utter_respuesta_cursada
    - or:
      - intent: contar_de_donde_vengo
      - intent: contar_que_rendi
      - intent: nota_que_me_saque
    - action: utter_como_le_fue
    - intent: contar_como_fue
    - action: utter_jodida_materia
    - action: utter_ofrecer_ayuda
    - intent: agradecer
    - action: action_delSlots_examen
    - action: utter_despedir